(this.webpackJsonpportal=this.webpackJsonpportal||[]).push([[0],{288:function(e,a,t){e.exports=t(550)},293:function(e,a,t){},540:function(e,a,t){e.exports=t.p+"static/media/logo.87b7d54e.png"},544:function(e,a,t){e.exports=t.p+"static/media/twitter.cc647316.svg"},545:function(e,a,t){e.exports=t.p+"static/media/facebook.7fc7bf87.svg"},546:function(e,a,t){e.exports=t.p+"static/media/youtube.fab0b3b6.svg"},547:function(e,a,t){e.exports=t.p+"static/media/instagram.90de31e4.svg"},548:function(e,a,t){e.exports=t.p+"static/media/error-404.4c5d5fdc.svg"},550:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(5),o=t.n(l),c=(t(293),t(133)),i=t(134),s=t(153),m=t(135),u=t(155),d=t(63),p=t(70),E=t(559),g=t(564),f=t(26),_=t(567),h=t(572),A=t(20),I=t(71),O=t.n(I),b=t(110),P={CHECK_AUTH_API:"CHECK_AUTH_API",LOGIN_USER_API:"LOGIN_USER_API",LOGOUT_USER_API:"LOGOUT_USER_API",SET_LOGGED_IN_USER:"SET_LOGGED_IN_USER",UPDATE_LOGGED_IN_USER:"UPDATE_LOGGED_IN_USER",GET_USERS_API:"GET_USERS_API",UPDATE_USER_API:"UPDATE_USER_API",ADD_USER_API:"ADD_USER_API",DELETE_USER_API:"DELETE_USER_API"},T=t(58),y=t.n(T),N=t(566);N.a.config({duration:2,maxCount:1});var v=function(){var e=Object(b.a)(O.a.mark((function e(a){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=4;break}y.a.defaults.headers.common.Authorization="Bearer ".concat(a),e.next=8;break;case 4:return e.next=6,localStorage.getItem("ACCESS_TOKEN");case 6:(t=e.sent)&&(y.a.defaults.headers.common.Authorization="Bearer ".concat(t));case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),S=function(){var e=Object(b.a)(O.a.mark((function e(a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,localStorage.setItem("ACCESS_TOKEN",a);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),D(JSON.stringify(e.t0));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(a){return e.apply(this,arguments)}}(),R=function(){localStorage.removeItem("ACCESS_TOKEN"),delete y.a.defaults.headers.common.Authorization},L=function(e){return y.a.get(e)},U=function(e,a){return y.a.post(e,a)},w=function(e){N.a.success(e)},D=function(e){N.a.error(e)},G=function(e){return function(a){a({type:P.SET_LOGGED_IN_USER,user:e})}},j=[{type:"email",message:"The input is not valid Email!"},{required:!0,message:"Please input your Email!"}],C=[{required:!0,message:"Please enter mobile number!"}],x=[{required:!0,message:"Please enter name!"}],k=[{required:!0,message:"Please enter password!"}],H=[{required:!0,message:"Please enter Id number!"}],F=[{type:"object",required:!0,message:"Please select time!"}],q=[{type:"object",required:!0,message:"Please select time!"}],M=[{required:!0,message:"Please select procedures!"}],K=[{required:!0,message:"Please select diagnosis!"}],z=[{required:!0,message:"Please select operation station!"}],B=[{required:!0,message:"Please select operation room!"}],V=[{required:!0,message:"Please upload insurance image!"}],Y=[{required:!0,message:"Please upload iqama image!"}],W=[{required:!0,message:"Please select a type"}],J=function(e){var a=e.loading,t=e.login,n=function(){};return r.a.createElement(E.a,{name:"normal_login",className:"login-form",initialValues:{email_address:"",password:""},onFinish:function(e){t(e,n)}},r.a.createElement(E.a.Item,{name:"email_address",rules:j},r.a.createElement(g.a,{className:"c-input c-input-primary",prefix:r.a.createElement(_.a,{className:"site-form-item-icon"}),placeholder:"Email"})),r.a.createElement(E.a.Item,{name:"password",rules:k},r.a.createElement(g.a,{className:"c-input c-input-primary",prefix:r.a.createElement(h.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),r.a.createElement("div",{className:"links"},r.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password")),r.a.createElement(E.a.Item,null,r.a.createElement(f.a,{type:"primary",htmlType:"submit",loading:a,className:"c-button c-button-primary login-form-button"},"Login")))};var $={login:function(e,a){return function(t){t({type:P.LOGIN_USER_API,loading:!0,userLoggedIn:!1}),U("admins/login",e).then((function(e){var n=e.data;if(n.error)D(n.data[0]),t({type:P.LOGIN_USER_API,loading:!1,userLoggedIn:!1});else{var r=n.data[0];t({type:P.LOGIN_USER_API,loading:!1,userLoggedIn:!0}),S(r.access_token),v(r.access_token),w("Successfully Login"),t(G(r)),a&&a()}})).catch((function(e){D("Something went wrong please try again"),t({type:P.LOGIN_USER_API,loading:!1,userLoggedIn:!1}),console.log("error",e)}))}}},Q=Object(A.b)((function(e){return{loading:e.users.loginLoading}}),$)((function(e){return r.a.createElement("div",{className:"auth"},r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"auth-card"},r.a.createElement("h1",{className:"heading"}," Login "),r.a.createElement(J,e))))})),X=t(28),Z=t(552),ee=t(558),ae=t(562),te=t(573),ne=t(253),re=t(97),le=t.n(re),oe=[{label:"Name",value:"patient.name"},{label:"Doctor",value:"created_by.full_name"},{label:"Operation Theater",value:"operation_theater.name"},{label:"Operation Room",value:"operation_room.name"},{label:"Procedure",value:"procedure.name"},{label:"Diagnosis",value:"diagnosis.name"},{label:"Date",value:"date"},{label:"Time",value:"time"},{label:"Comment",value:"comment"}],ce={GET_PATIENTS_API:"GET_PATIENTS_API",ADD_PATIENT_API:"ADD_PATIENT_API",GET_OPERATION_THEATER_API:"GET_OPERATION_THEATER_API",GET_OPERATION_ROOMS_API:"GET_OPERATION_ROOMS_API",GET_ALL_OPERATIONS_API:"GET_ALL_OPERATIONS_API",UPDATE_OPERATION_API:"UPDATE_OPERATION_API",CREATE_OPERATION_API:"CREATE_OPERATION_API",GET_DIAGNOSIS_API:"GET_DIAGNOSIS_API",GET_PROCEDURES_API:"GET_PROCEDURES_API"},ie=function(){return function(e){e((function(e){e({type:ce.GET_PATIENTS_API,loading:!0,payload:[]}),L("patients/get").then((function(a){var t=a.data;t.error?(D(t.data[0]),e({type:ce.GET_PATIENTS_API,loading:!1,payload:[]})):e({type:ce.GET_PATIENTS_API,loading:!1,payload:t.data})})).catch((function(a){e({type:ce.GET_PATIENTS_API,loading:!1,payload:[]}),console.log("error",a)}))})),e((function(e){e({type:ce.GET_OPERATION_ROOMS_API,loading:!0,payload:[]}),L("operationRooms/get").then((function(a){var t=a.data;t.error?(D(t.data[0]),e({type:ce.GET_OPERATION_ROOMS_API,loading:!1,payload:[]})):e({type:ce.GET_OPERATION_ROOMS_API,loading:!1,payload:t.data})})).catch((function(a){e({type:ce.GET_OPERATION_ROOMS_API,loading:!1,payload:[]}),console.log("error",a)}))})),e((function(e){e({type:ce.GET_OPERATION_THEATER_API,loading:!0,payload:[]}),L("operationTheaters/get").then((function(a){var t=a.data;t.error?(D(t.data[0]),e({type:ce.GET_OPERATION_THEATER_API,loading:!1,payload:[]})):e({type:ce.GET_OPERATION_THEATER_API,loading:!1,payload:t.data})})).catch((function(a){e({type:ce.GET_OPERATION_THEATER_API,loading:!1,payload:[]}),console.log("error",a)}))})),e((function(e){e({type:ce.GET_PROCEDURES_API,loading:!0,payload:[]}),L("procedures/get").then((function(a){var t=a.data;t.error?(D(t.data[0]),e({type:ce.GET_PROCEDURES_API,loading:!1,payload:[]})):e({type:ce.GET_PROCEDURES_API,loading:!1,payload:t.data})})).catch((function(a){e({type:ce.GET_PROCEDURES_API,loading:!1,payload:[]}),console.log("error",a)}))})),e((function(e){e({type:ce.GET_DIAGNOSIS_API,loading:!0,payload:[]}),L("diagnosis/get").then((function(a){var t=a.data;t.error?(D(t.data[0]),e({type:ce.GET_DIAGNOSIS_API,loading:!1,payload:[]})):e({type:ce.GET_DIAGNOSIS_API,loading:!1,payload:t.data})})).catch((function(a){e({type:ce.GET_DIAGNOSIS_API,loading:!1,payload:[]}),console.log("error",a)}))}))}},se=t(437).Parser;var me={getAllOperations:function(){return function(e){e({type:ce.GET_ALL_OPERATIONS_API,loading:!0,payload:[]}),L("operations/get").then((function(a){var t=a.data;t.error?(D(t.data[0]),e({type:ce.GET_ALL_OPERATIONS_API,loading:!1,payload:[]})):e({type:ce.GET_ALL_OPERATIONS_API,loading:!1,payload:t.data})})).catch((function(a){e({type:ce.GET_ALL_OPERATIONS_API,loading:!1,payload:[]}),console.log("error",a)}))}}},ue=Object(A.b)((function(e){var a=e.common;return{operations:a.operations,operationsLoading:a.operationsLoading}}),me)((function(e){var a=e.operations,t=e.operationsLoading,l=Object(n.useState)({}),o=Object(X.a)(l,2),c=o[0],i=o[1],s=Object(n.useState)(!1),m=Object(X.a)(s,2),u=m[0],d=m[1];Object(n.useEffect)((function(){return e.getAllOperations()}),[]);var p=[{title:"Name",dataIndex:"patient",render:function(e){return"".concat(e.name)},ellipsis:!0},{title:"Doctor",dataIndex:"created_by",render:function(e){return e?e.full_name:""},defaultSortOrder:"ascend",sorter:function(e,a){return a.created_by.full_name.length-e.created_by.full_name.length},ellipsis:!0},{title:"Operation Theater",dataIndex:"operation_theater",render:function(e){return"".concat(e.name)},ellipsis:!0},{title:"Operation Room",dataIndex:"operation_room",render:function(e){return"".concat(e.name)},ellipsis:!0},{title:"Procedure",dataIndex:"procedure",render:function(e){return"".concat(e.name)},ellipsis:!0},{title:"Diagnosis",dataIndex:"diagnosis",render:function(e){return"".concat(e.name)},ellipsis:!0},{title:"Date",dataIndex:"date",defaultSortOrder:"ascend",render:function(e){return r.a.createElement("span",null,le()(e).format("DD/MM/YYYY"))},sorter:function(e,a){return new Date(a.date)-new Date(e.date)},width:110},{title:"Time",dataIndex:"time",render:function(e){return r.a.createElement("span",null,le()(e).format("HH:mm:ss a"))},width:110},{title:"Action",key:"action",render:function(e){return r.a.createElement("div",{className:"table-button-group"},r.a.createElement(f.a,{onClick:function(){var a;(a=e)&&Object.keys(a).length&&(i(a),d(!0))},className:"c-icon-button",icon:r.a.createElement(te.a,null),size:"large"}))},width:80}];function E(){setTimeout((function(){return i({})}),200),d(!1)}function g(){var e=new se({fields:oe}).parse(a),t="report-".concat(Math.floor(65536*(1+Math.random())).toString(16).substring(1),".csv"),n=new Blob([e],{type:"text/csv"});Object(ne.saveAs)(n,t)}return r.a.createElement("div",{className:"reports"},r.a.createElement(Z.a,null,r.a.createElement("div",{className:"c-sub-header"},r.a.createElement("h1",{className:"page-heading"},"Reports"),r.a.createElement(f.a,{disabled:!(a&&a.length),onClick:function(){return g()},className:"c-button c-button-primary"},"Export"))),r.a.createElement("section",{className:"c-section"},r.a.createElement(Z.a,null,r.a.createElement(ee.a,{loading:t,columns:p,dataSource:a}))),r.a.createElement(ae.a,{title:"Patient",visible:u,footer:null,onOk:E,onCancel:E,okText:"Done",className:"c-modal"},r.a.createElement("ul",{className:"list"},r.a.createElement("li",{className:"list-item"},r.a.createElement("span",{className:"label"},"Name :"),r.a.createElement("span",{className:"value"},c.patient?c.patient.name:"")),r.a.createElement("li",{className:"list-item"},r.a.createElement("span",{className:"label"},"Operation Theater :"),r.a.createElement("span",{className:"value"},c.operation_theater?c.operation_theater.name:"")),r.a.createElement("li",{className:"list-item"},r.a.createElement("span",{className:"label"},"Operation Room :"),r.a.createElement("span",{className:"value"},c.operation_room?c.operation_room.name:"")),r.a.createElement("li",{className:"list-item"},r.a.createElement("span",{className:"label"},"Procedure :"),r.a.createElement("span",{className:"value"},c.procedure?c.procedure.name:"")),r.a.createElement("li",{className:"list-item"},r.a.createElement("span",{className:"label"},"Diagnosis :"),r.a.createElement("span",{className:"value"},c.diagnosis?c.diagnosis.name:"")),r.a.createElement("li",{className:"list-item"},r.a.createElement("span",{className:"label"},"Comment :"),r.a.createElement("span",{className:"value"},c.comment)),r.a.createElement("li",{className:"list-item"},r.a.createElement("span",{className:"label"},"Date :"),r.a.createElement("span",{className:"value"},le()(c.date).format("DD/MM/YYYY"))),r.a.createElement("li",{className:"list-item"},r.a.createElement("span",{className:"label"},"Time :"),r.a.createElement("span",{className:"value"},le()(c.time).format("HH:mm:ss a"))))))})),de=t(147),pe=t(14),Ee=t(554),ge=t(555),fe=t(553),_e=t(56),he=t(195),Ae=t(556),Ie=g.a.TextArea,Oe=fe.a.Option,be=function(e){var a=e.operationRooms,t=e.procedures,l=e.diagnosis,o=e.operationTheaters,c=e.patients,i=e.createOperation,s=e.createOperationLoading,m=E.a.useForm(),u=Object(X.a)(m,1)[0],d=Object(n.useState)(""),p=Object(X.a)(d,2),g=p[0],_=p[1],h=Object(n.useState)(""),A=Object(X.a)(h,2),I=A[0],O=A[1],b=Object(n.useState)(""),P=Object(X.a)(b,2),T=P[0],y=P[1],N=Object(n.useState)(""),v=Object(X.a)(N,2),S=v[0],R=v[1],L=function(){u.resetFields(),_({}),O(""),y(""),R("")};function U(e){}function w(e){return e?e.map((function(e,a){return r.a.createElement(_e.a.Option,{key:a,value:e._id},e.name)})):null}function D(e,a,t,n){return e?e.map((function(e,l){return r.a.createElement(Oe,{key:l,value2:e[t],value:e[n||a]}," ",e[a]," ")})):null}function G(e,a,t){return e?e.map((function(e,n){return r.a.createElement(Oe,{key:n,value2:e[t],value:e[a]}," ",e[a]," ")})):null}var j=function(e,a){!function(e,a){var t=c.find((function(t){return t[e]===a}));t&&(_(t),O(t.mrn?t.mrn:""),y(t.name?t.name:""),R(t.mobile_number?t.mobile_number:""))}(a,e)},C=function(e,a){console.log("text",e),"mrn"===a?O(e):"name"===a?y(e):"mobile_number"===a&&R(e)},x=function(e,a){var t=u.getFieldValue(e),n=a?a.find((function(e){return e.code===t||e.name===t})):null;u.setFieldsValue(Object(de.a)({},e,n?n.name:""))};return r.a.createElement(r.a.Fragment,null,c&&c.length?r.a.createElement("div",{className:"search-header"},r.a.createElement("p",null,"Search : "),r.a.createElement(fe.a,{name:"mrn",value:I,onSelect:function(e){return j(e,"mrn")},onChange:function(e){return C(e,"mrn")},className:"c-auto-complete",placeholder:"Search with MRN",filterOption:function(e,a){return-1!==a.value.toString().indexOf(e)}},D(c,"mrn")),r.a.createElement(fe.a,{name:"name",value:T,onSelect:function(e){return j(e,"name")},onChange:function(e){return C(e,"name")},className:"c-auto-complete",placeholder:"Patient Name",filterOption:function(e,a){return-1!==a.value.toUpperCase().indexOf(e.toUpperCase())}},D(c,"name")),r.a.createElement(fe.a,{name:"mobile_number",value:S,onSelect:function(e){return j(e,"mobile_number")},onChange:function(e){return C(e,"mobile_number")},className:"c-auto-complete",placeholder:"Phone Number",filterOption:function(e,a){return-1!==a.value.indexOf(e)}},D(c,"mobile_number"))):null,r.a.createElement(E.a,{name:"add-patient-form",className:"add-patient-form",form:u,initialValues:{operation_theater:"",operation_room:"",date:"",time:"",procedure:"",diagnosis:"",comment:""},onFinish:function(e){var a=Object(pe.a)({},e,{date:e.date.toISOString(),time:e.time.toISOString()});a.patient=g._id;var n=t.find((function(e){return e.name===a.procedure})),r=l.find((function(e){return e.name===a.diagnosis}));a.procedure=n._id,a.diagnosis=r._id,i(a,L)}},r.a.createElement(Ee.a,null,r.a.createElement(ge.a,{xs:12,sm:6,md:6,lg:6},r.a.createElement(E.a.Item,{name:"operation_theater",label:"Operation Station",rules:z},r.a.createElement(_e.a,{defaultValue:"",className:"c-select",onChange:U},r.a.createElement(_e.a.Option,{value:""},"Select Operation Station"),w(o)))),r.a.createElement(ge.a,{xs:12,sm:6,md:6,lg:6},r.a.createElement(E.a.Item,{name:"operation_room",label:"Operation Room",rules:B},r.a.createElement(_e.a,{defaultValue:"",className:"c-select",onChange:U},r.a.createElement(_e.a.Option,{value:""},"Select Operation Room"),w(a))))),r.a.createElement(Ee.a,null,r.a.createElement(ge.a,{xs:12,sm:6},r.a.createElement(E.a.Item,{name:"date",label:"Date",rules:q},r.a.createElement(he.a,{className:"c-picker"}))),r.a.createElement(ge.a,{xs:12,sm:6},r.a.createElement(E.a.Item,{name:"time",label:"Time",rules:F},r.a.createElement(Ae.a,{className:"c-picker"})))),r.a.createElement(Ee.a,null,r.a.createElement(ge.a,{xs:12,sm:6,md:6,lg:6},r.a.createElement(E.a.Item,{name:"procedure",label:"Procedures",rules:M},r.a.createElement(fe.a,{className:"c-auto-complete",placeholder:"Search with code",allowClear:!0,onBlur:function(){return x("procedure",t)},filterOption:function(e,a){return-1!==a.value2.indexOf(e)}},G(t,"name","code")))),r.a.createElement(ge.a,{xs:12,sm:6,md:6,lg:6},r.a.createElement(E.a.Item,{name:"diagnosis",label:"Diagnosis",rules:K},r.a.createElement(fe.a,{className:"c-auto-complete",placeholder:"Search with code",allowClear:!0,onBlur:function(){return x("diagnosis",l)},filterOption:function(e,a){return-1!==a.value2.indexOf(e)}},G(l,"name","code"))))),r.a.createElement(E.a.Item,{name:"comment",label:"Comment"},r.a.createElement(Ie,{className:"c-input c-input-primary",autoSize:{minRows:5,maxRows:5}})),r.a.createElement(E.a.Item,null,r.a.createElement(f.a,{type:"primary",htmlType:"submit",disabled:!g,loading:s,className:"c-button c-button-primary login-form-button"},"Update"))))};var Pe={createOperation:function(e,a){return function(t){t({type:ce.CREATE_OPERATION_API,loading:!0}),U("operations/create",e).then((function(e){var n=e.data;n.error?(D(n.data[0]),D("Something went wrong please try again"),t({type:ce.CREATE_OPERATION_API,loading:!1})):(w("Successfully create operation"),a&&a(),t({type:ce.CREATE_OPERATION_API,loading:!1}))})).catch((function(e){D("Something went wrong please try again"),t({type:ce.CREATE_OPERATION_API,loading:!1}),console.log("error",e)}))}},getAll:ie},Te=Object(A.b)((function(e){var a=e.common;return{operationRooms:a.operationRooms,operationRoomsLoading:a.operationRoomsLoading,procedures:a.procedures,proceduresLoading:a.proceduresLoading,diagnosis:a.diagnosis,diagnosisLoading:a.diagnosisLoading,operationTheaters:a.operationTheaters,operationTheatersLoading:a.operationTheatersLoading,patients:a.patients,patientsLoading:a.patientsLoading,createOperationLoading:a.createOperationLoading}}),Pe)((function(e){var a=Object(p.f)();return Object(n.useEffect)((function(){e.getAll()}),[]),r.a.createElement("div",{className:"patients"},r.a.createElement(Z.a,null,r.a.createElement("div",{className:"c-sub-header"},r.a.createElement("h1",{className:"page-heading"},"Patients"),r.a.createElement(f.a,{onClick:function(){return a.push("/patients/add")},className:"c-button c-button-primary"},"New Patient"))),r.a.createElement("section",{className:"c-section"},r.a.createElement(Z.a,null,r.a.createElement("div",{className:"patient-form"},r.a.createElement(be,e)))))})),ye=t(560),Ne=t(571),ve=t(568),Se=function(e){return e&&e.file},Re=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).formRef=r.a.createRef(),t.state={iqama_image:[],insurance_image:[]},t.onReset=function(){t.formRef.current.resetFields(),t.setState({iqama_image:[],insurance_image:[]})},t.onFinish=function(e){var a=new FormData;a.append("name",e.name),a.append("mobile_number",e.mobile_number),a.append("email",e.email),a.append("iqama_image",e.iqama_image),a.append("insurance_image",e.insurance_image),a.append("notes",e.notes),t.props.addPatient(a,t.onReset)},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=g.a.TextArea,t={onRemove:function(a){e.setState((function(e){return{iqama_image:[]}}))},beforeUpload:function(a){return e.setState((function(e){return{iqama_image:[a]}})),!1},fileList:this.state.iqama_image},n={onRemove:function(a){e.setState((function(e){return{insurance_image:[]}}))},beforeUpload:function(a){return e.setState((function(e){return{insurance_image:[a]}})),!1},fileList:this.state.insurance_image},l=this.props.loading;return r.a.createElement(E.a,{name:"add-patient-form",ref:this.formRef,className:"add-patient-form",initialValues:{},onFinish:this.onFinish},r.a.createElement(E.a.Item,{name:"name",label:"Name",rules:x},r.a.createElement(g.a,{className:"c-input c-input-primary",type:"text"})),r.a.createElement(Ee.a,null,r.a.createElement(ge.a,{xs:12,sm:6,md:6,lg:6},r.a.createElement(E.a.Item,{name:"mobile_number",label:"Mobile No.",rules:C},r.a.createElement(g.a,{className:"c-input c-input-primary",type:"number"}))),r.a.createElement(ge.a,{xs:12,sm:6,md:6,lg:6},r.a.createElement(E.a.Item,{name:"email",label:"Email",rules:j},r.a.createElement(g.a,{className:"c-input c-input-primary",type:"email"})))),r.a.createElement(E.a.Item,{name:"idNo",label:"Id No.",rules:H},r.a.createElement(g.a,{className:"c-input c-input-primary",type:"number"})),r.a.createElement(Ee.a,null,r.a.createElement(ge.a,null,r.a.createElement(E.a.Item,{name:"iqama_image",label:"Iqama Attach file PDF or JPG",getValueFromEvent:Se,rules:Y},r.a.createElement(ye.a,t,r.a.createElement(f.a,null,r.a.createElement(Ne.a,null)," Click to upload")))),r.a.createElement(ge.a,null,r.a.createElement(E.a.Item,{name:"insurance_image",label:"Insurance Attach file PDF or JPG",getValueFromEvent:Se,rules:V},r.a.createElement(ye.a,n,r.a.createElement(f.a,null,r.a.createElement(Ne.a,null)," Click to upload"))))),r.a.createElement(E.a.Item,{name:"notes",label:"Notes"},r.a.createElement(a,{className:"c-input c-input-primary",autoSize:{minRows:5,maxRows:5}})),r.a.createElement(E.a.Item,null,r.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"c-button c-button-primary login-form-button",loading:l},"Add")))}}]),a}(r.a.Component);var Le={addPatient:function(e,a){return function(t){t({type:ce.ADD_PATIENT_API,loading:!0}),U("patients/create",e).then((function(e){var n=e.data;n.error?(D(n.data[0]),t({type:ce.ADD_PATIENT_API,loading:!1})):(w("Successfully add patient"),a&&a(),t({type:ce.ADD_PATIENT_API,loading:!1}),t(ie()))})).catch((function(e){D("Something went wrong please try again"),t({type:ce.ADD_PATIENT_API,loading:!1}),console.log("error",e)}))}}},Ue=Object(A.b)((function(e){return{loading:e.common.addPatientLoading}}),Le)((function(e){var a=Object(p.f)(),t=e.addPatient,n=e.loading;return r.a.createElement("div",{className:"patients"},r.a.createElement(Z.a,null,r.a.createElement("div",{className:"c-sub-header"},r.a.createElement("div",{className:"back-button",onClick:function(){return a.goBack()}},r.a.createElement(ve.a,null)),r.a.createElement("h1",{className:"page-heading"},"Add patient"))),r.a.createElement("section",{className:"c-section"},r.a.createElement(Z.a,null,r.a.createElement("div",{className:"card-form"},r.a.createElement(Re,{addPatient:t,loading:n})))))})),we=t(570),De=t(574),Ge=t(575),je=ae.a.confirm,Ce=function(e){var a=e.closeModal,t=e.addUser,l=e.addUserLoading,o=e.updateUser,c=e.updateLoading,i=e.getUsers,s=e.user,m=e.type,u=E.a.useForm(),d=Object(X.a)(u,1)[0];Object(n.useEffect)((function(){"update"===m&&d.setFieldsValue({full_name:s.full_name?s.full_name:"",email_address:s.email_address?s.email_address:"",type:s.type?s.type:"",password:s.password?s.password:""})}),[s]);var p=function(){d.resetFields(),a(),i()};return r.a.createElement(E.a,{form:d,layout:"vertical",name:"add-user",onFinish:function(e){if("update"===m){delete e.password;var a=Object(pe.a)({id:s._id},e);o(a,p)}else t(e,p)},initialValues:{}},r.a.createElement(E.a.Item,{name:"full_name",label:"Name",rules:x},r.a.createElement(g.a,{className:"c-input c-input-primary"})),r.a.createElement(E.a.Item,{name:"email_address",label:"Email",rules:j},r.a.createElement(g.a,{className:"c-input c-input-primary"})),r.a.createElement(E.a.Item,{name:"type",label:"Type",rules:W},r.a.createElement(_e.a,{placeholder:"Select a type",className:"c-select"},r.a.createElement(_e.a.Option,{value:"doctor"},"Docter"),r.a.createElement(_e.a.Option,{value:"hospital"},"Hospital"))),r.a.createElement(E.a.Item,{name:"password",label:"Password",rules:k},r.a.createElement(g.a.Password,{className:"c-input c-input-primary",disabled:"update"===m})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement(f.a,{onClick:function(){return d.resetFields(),void a()}},"Close"),r.a.createElement(f.a,{loading:"update"===m?c:l,type:"primary",htmlType:"submit"},"Submit")))};var xe={getUsers:function(){return function(e){e({type:P.GET_USERS_API,loading:!0,users:[]}),L("admins/get").then((function(a){var t=a.data;t.error?(D(t.data[0]),e({type:P.GET_USERS_API,loading:!1,users:[]})):e({type:P.GET_USERS_API,loading:!1,users:t.data})})).catch((function(a){e({type:P.GET_USERS_API,loading:!1,users:[]}),console.log("error",a)}))}},addUser:function(e,a){return function(t){t({type:P.ADD_USER_API,loading:!0}),U("admins/create",e).then((function(e){e.data.error?(D("Something went wrong please try again"),t({type:P.ADD_USER_API,loading:!1})):(w("Successfully add user"),t({type:P.ADD_USER_API,loading:!1}),a&&a())})).catch((function(e){D("Something went wrong please try again"),t({type:P.ADD_USER_API,loading:!1}),console.log("error",e)}))}},updateUser:function(e,a){return function(t){t({type:P.UPDATE_USER_API,loading:!0}),U("admins/update",e).then((function(e){var n=e.data;n.error?(D(n.data[0]),t({type:P.UPDATE_USER_API,loading:!1})):(w("Successfully update user"),t({type:P.UPDATE_USER_API,loading:!1}),a&&a())})).catch((function(e){D("Something went wrong please try again"),t({type:P.UPDATE_USER_API,loading:!1}),console.log("error",e)}))}},deleteUser:function(e,a){return function(t){t({type:P.DELETE_USER_API,loading:!0}),U("admins/remove",e).then((function(e){var n=e.data;n.error?(D(n.data[0]),t({type:P.DELETE_USER_API,loading:!1})):(w("Successfully delete user"),t({type:P.DELETE_USER_API,loading:!1}),a&&a())})).catch((function(e){D("Something went wrong please try again"),t({type:P.DELETE_USER_API,loading:!1}),console.log("error",e)}))}}},ke=Object(A.b)((function(e){var a=e.users;return{loading:a.loading,addUserLoading:a.addUserLoading,users:a.users,updateLoading:a.updateLoading}}),xe)((function(e){var a=e.users,t=e.loading,l=e.getUsers,o=e.deleteUser,c=Object(n.useState)(!1),i=Object(X.a)(c,2),s=i[0],m=i[1],u=Object(n.useState)({}),d=Object(X.a)(u,2),p=d[0],E=d[1];function g(e){E(e),m(!0)}function _(){m(!1)}Object(n.useEffect)((function(){return l()}),[]);var h=[{title:"Name",dataIndex:"full_name",ellipsis:!0},{title:"Email",dataIndex:"email_address",ellipsis:!0},{title:"Type",dataIndex:"type",filters:[{text:"Admin",value:"admin"},{text:"Doctor",value:"doctor"},{text:"Hospital",value:"hospital"}],onFilter:function(e,a){return 0===a.type.indexOf(e)},ellipsis:!0,width:120},{title:"Action",key:"action",render:function(e){return"admin"!==e.type?r.a.createElement("div",{className:"table-button-group"},r.a.createElement(f.a,{onClick:function(){return function(e){je({title:"Do you Want to delete these user?",icon:r.a.createElement(we.a,null),content:e?e.full_name:"",onOk:function(){var a={id:e._id};o(a,l)},onCancel:function(){}})}(e)},className:"c-icon-button",icon:r.a.createElement(De.a,null),size:"large"}),r.a.createElement(f.a,{onClick:function(){return g(e)},className:"c-icon-button",icon:r.a.createElement(Ge.a,null),size:"large"})):null},width:120}];return r.a.createElement("div",{className:"patients"},r.a.createElement(Z.a,null,r.a.createElement("div",{className:"c-sub-header"},r.a.createElement("h1",{className:"page-heading"},"Users"),r.a.createElement(f.a,{disabled:!1,onClick:function(){return g()},className:"c-button c-button-primary"},"Add"))),r.a.createElement("section",{className:"c-section"},r.a.createElement(Z.a,null,r.a.createElement(ee.a,{loading:t,columns:h,dataSource:a}))),r.a.createElement(ae.a,{title:p&&Object.keys(p).length?"Update User":"Add User",className:"add-user-modal",visible:s,centered:!0,footer:null,maskClosable:!1,onCancel:_},r.a.createElement(Ce,Object.assign({closeModal:_,type:p&&Object.keys(p).length?"update":"add",user:p},e))))})),He=t(563),Fe=t(557),qe=t(565),Me=t(561),Ke=[{to:"/reports",title:"Reports"},{to:"/users",title:"Users"}];var ze=function(){var e,a=Object(A.c)(),n=Object(A.d)((function(e){return e.users.user}));function l(){a((function(e){e({type:P.LOGOUT_USER_API}),R(),w("Successfully logout")}))}return r.a.createElement("div",{className:"c-header"},r.a.createElement(He.a,{variant:"light"},r.a.createElement(Z.a,null,r.a.createElement(He.a.Brand,null,r.a.createElement(d.b,{to:"/"},r.a.createElement(Fe.a,{src:t(540)}))),"admin"===(n&&n.type)?r.a.createElement(qe.a,{className:"ml-auto c-nav"},(e=Ke)&&e.length?e.map((function(e,a){return r.a.createElement(d.c,{to:e.to,className:"nav-link",activeClassName:"nav-link-active"},e.title)})):null):null,r.a.createElement(Me.a,{className:"user-menu"},r.a.createElement(Me.a.Toggle,{id:"dropdown-basic"},r.a.createElement("div",{className:"user-info"},r.a.createElement("div",{className:"user-name"},r.a.createElement("span",null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x z";if(e){var a=e.match(/\b\w/g)||[];return a=((a.shift()||"")+(a.pop()||"")).toUpperCase()}return""}(n.type))),r.a.createElement("div",{className:"user-email-and-name"},r.a.createElement("span",null,n.full_name),r.a.createElement("span",null,n.email_address)))),r.a.createElement(Me.a.Menu,null,r.a.createElement(Me.a.Item,{onClick:function(){return l()}},"Logout"))))))};var Be=function(){return r.a.createElement("div",{className:"c-footer"},r.a.createElement(Z.a,null,r.a.createElement(Ee.a,{className:""},r.a.createElement(ge.a,{xs:12,sm:6,md:6,lg:6},r.a.createElement("p",null,"\xa9 Dr. Samir Abbas Hospital")),r.a.createElement(ge.a,{xs:12,sm:6,md:6,lg:6},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://twitter.com/dsahospital?lang=en"},r.a.createElement(Fe.a,{src:t(544)}))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.facebook.com/DSAHospital/"},r.a.createElement(Fe.a,{src:t(545)}))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.youtube.com/channel/UCuPIk9PfFbWOPcGJn04ThCw?view_as=subscriber"},r.a.createElement(Fe.a,{src:t(546)}))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.instagram.com/dsahospital/"},r.a.createElement(Fe.a,{src:t(547)}))))))))},Ve=t(98);var Ye=function(){return r.a.createElement(Ve.a,{image:t(548),imageStyle:{height:150},description:r.a.createElement("span",null,"Opps!")},r.a.createElement(f.a,{className:"c-button c-button-secondary",type:"primary",onClick:function(){}},"Go Back"))},We=function(e){return function(a){return r.a.createElement("div",{className:"header-with-body"},r.a.createElement(ze,null),r.a.createElement("div",{className:"body"},r.a.createElement(e,a)),r.a.createElement(Be,null))}},Je=t(569),$e=function(){return r.a.createElement("div",{className:"loading"},r.a.createElement(Je.a,{style:{fontSize:48},spin:!0}))};function Qe(){return r.a.createElement(n.Fragment,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:We(Te)}),r.a.createElement(p.a,{exact:!0,path:"/reports",component:We(ue)}),r.a.createElement(p.a,{exact:!0,path:"/patients/add",component:We(Ue)}),r.a.createElement(p.a,{exact:!0,path:"/users",component:We(ke)}),r.a.createElement(p.a,{path:"*",component:Ye})))}function Xe(){return r.a.createElement(n.Fragment,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:We(Te)}),r.a.createElement(p.a,{exact:!0,path:"/patients/add",component:We(Ue)}),r.a.createElement(p.a,{path:"*",component:Ye})))}function Ze(){return r.a.createElement(n.Fragment,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:We(ue)}),r.a.createElement(p.a,{path:"*",component:Ye})))}function ea(){return r.a.createElement(n.Fragment,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:Q}),r.a.createElement(p.a,{path:"*",component:Ye})))}var aa=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).renderRoutingWithRole=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(e){case"admin":return r.a.createElement(Qe,null);case"doctor":return r.a.createElement(Xe,null);case"hospital":return r.a.createElement(Ze,null);default:return r.a.createElement(ea,null)}},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.checkAuth()}},{key:"render",value:function(){var e=this.props,a=e.userLoggedIn,t=e.authLoading,n=e.user;return r.a.createElement("div",{className:"app-root"},t?r.a.createElement($e,null):null,r.a.createElement(d.a,null,this.renderRoutingWithRole(a?n.type:"")))}}]),a}(n.Component),ta={checkAuth:function(e){return function(){var a=Object(b.a)(O.a.mark((function a(t){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:P.CHECK_AUTH_API,loading:!0,userLoggedIn:!1}),a.next=3,localStorage.getItem("ACCESS_TOKEN");case 3:a.sent?L("admins/checkAuth").then((function(a){var n=a.data;if(n.error)R(),D(n.data[0]),t({type:P.CHECK_AUTH_API,loading:!1,userLoggedIn:!1});else{var r=n.data[0];t(G(r)),t({type:P.CHECK_AUTH_API,loading:!1,userLoggedIn:!0}),e&&e()}})).catch((function(e){t({type:P.CHECK_AUTH_API,loading:!1,userLoggedIn:!1}),console.log("error",e)})):t({type:P.CHECK_AUTH_API,loading:!1,userLoggedIn:!1});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},getAll:ie},na=Object(A.b)((function(e){var a=e.users;return{userLoggedIn:a.userLoggedIn,authLoading:a.checkAuthLoading,user:a.user}}),ta)(aa);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ra=t(96),la={operationRooms:[],operationRoomsLoading:!1,procedures:[],proceduresLoading:!1,diagnosis:[],diagnosisLoading:!1,operationTheaters:[],operationTheatersLoading:!1,patients:[],patientsLoading:!1,operations:[],operationsLoading:!1,addPatientLoading:!1,updateOperationLoading:!1,createOperationLoading:!1},oa={users:[{name:"Muhammad Wasif Khanzada",email:"wasif@gmail.com",password:"hello123!",role:"doctor"},{name:"Muhammad Fasih Khanzada",email:"fasih@gmail.com",password:"hello123!",role:"doctor"},{name:"Muhammad Asif Khanzada",email:"asif@gmail.com",password:"hello123!",role:"doctor"},{name:"Muhammad Aeeteb Khanzada",email:"aeeteb@gmail.com",password:"hello123!",role:"doctor"},{name:"Muhammad Tahir Khanzada",email:"Tahir@gmail.com",password:"hello123!",role:"doctor"},{name:"Kamal Alam",email:"kamal@gmail.com",password:"hello123!",role:"user"},{name:"Umar Baig",email:"umar@gmail.com",password:"hello123!",role:"user"},{name:"Sohail",email:"sohail@gmail.com",password:"hello123!",role:"user"},{name:"Sajjad",email:"sajjad@gmail.com",password:"hello123!",role:"user"},{name:"Ahmer",email:"ahmer@gmail.com",password:"hello123!",role:"user"}],loading:!1,addUserLoading:!1,updateLoading:!1,loginLoading:!1,user:{},checkAuthLoading:!1,userLoggedIn:!1,deleteUserLoading:!1},ca={common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case ce.GET_PATIENTS_API:return Object(pe.a)({},e,{patientsLoading:a.loading,patients:a.payload});case ce.ADD_PATIENT_API:return Object(pe.a)({},e,{addPatientLoading:a.loading});case ce.GET_ALL_OPERATIONS_API:return Object(pe.a)({},e,{operationsLoading:a.loading,operations:a.payload});case ce.UPDATE_OPERATION_API:return Object(pe.a)({},e,{updateOperationLoading:a.loading});case ce.CREATE_OPERATION_API:return Object(pe.a)({},e,{createOperationLoading:a.loading});case ce.GET_OPERATION_ROOMS_API:return Object(pe.a)({},e,{operationRoomsLoading:a.loading,operationRooms:a.payload});case ce.GET_OPERATION_THEATER_API:return Object(pe.a)({},e,{operationTheatersLoading:a.loading,operationTheaters:a.payload});case ce.GET_PROCEDURES_API:return Object(pe.a)({},e,{proceduresLoading:a.loading,procedures:a.payload});case ce.GET_DIAGNOSIS_API:return Object(pe.a)({},e,{diagnosisLoading:a.loading,diagnosis:a.payload});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case P.CHECK_AUTH_API:return Object(pe.a)({},e,{checkAuthLoading:a.loading,userLoggedIn:a.userLoggedIn});case P.LOGIN_USER_API:return Object(pe.a)({},e,{loginLoading:a.loading,userLoggedIn:a.userLoggedIn});case P.LOGOUT_USER_API:return Object(pe.a)({},e,{userLoggedIn:!1,user:{}});case P.SET_LOGGED_IN_USER:case P.UPDATE_LOGGED_IN_USER:return Object(pe.a)({},e,{user:a.user});case P.ADD_USER_API:return Object(pe.a)({},e,{addUserLoading:a.loading});case P.DELETE_USER_API:return Object(pe.a)({},e,{deleteUserLoading:a.loading});case P.UPDATE_USER_API:return Object(pe.a)({},e,{updateLoading:a.loading});case P.GET_USERS_API:return Object(pe.a)({},e,{loading:a.loading,users:a.users});default:return e}}},ia=t(284),sa=(t(549),Object(ra.d)(Object(ra.c)(ca),{},Object(ra.a)(ia.a)));y.a.defaults.baseURL="/api/",v(),y.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),y.a.interceptors.response.use((function(e){return e.data&&e.data.error&&("jwt must be provided"===e.data.data[0]||e.data.data[0]),e}),(function(e){return Promise.reject(e)})),o.a.render(r.a.createElement((function(){return r.a.createElement(A.a,{store:sa},r.a.createElement(na,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[288,1,2]]]);
//# sourceMappingURL=main.e3b7aab8.chunk.js.map